# 随机数生成器与蒙特卡洛算法

## 项目简介

**本项目旨在通过定量分析，比较和评价不同随机数生成器在蒙特卡洛算法中的应用效果。**

随机数生成器是蒙特卡洛算法的核心组成部分，它能够产生一系列服从特定概率分布的随机数，用以模拟蒙特卡洛算法所需的采样分布。
我们注意到，不同的随机数生成器可能会导致蒙特卡洛算法的结果产生不同程度的误差，它们的效率也不尽相同。因此，本项目将使用多种标准和指标，对不同随机数生成器产生的随机数序列作完整、详细的质量检验与性能评估，以确定哪些随机数生成器更适用于蒙特卡洛算法。

## 文件结构

- `base.py`
含启动参数和基类`Distribution`的实现。

- `Uniformer.py`
含均匀分布随机数生成类`Uniformer`的实现。

- `Normalist.py`
含正态分布随机数生成类`Normalist`的实现。

- `MonteCarlo.py`
构造了蒙特卡洛算法测试类`MonteCarlo`。

- `report`
以文本形式保存了所有的生成报告。

- `cache`
缓存文件保存目录。

## 使用方法

### 启动参数

在`base.py`中可以指定启动参数。

```python
SKIP_PATHS = 2 ** 18 - 1 # quantlib库序列所用的路径跳跃参数
MAX_BATCH_SIZE = 16384 # 最大单次采样规模
STATS_SIZE = 65536 # 统计采样规模
BASE_SCALE = 1000 # 数据规模
```

### 生成均匀分布随机数

运行`Uniformer.py`即可，这将调用所有`UGM`中列举的算法生成均匀分布的随机数，除非某算法已在`ign`列表中指定。

程序产生的所有生成器将以字典的形式缓存，缓存文件储存在`cache`文件夹中，可以调用`Uniformer.read()`重新读取缓存文件。

### 生成正态分布随机数

需要`cache`文件夹中已存在同规模的均匀分布随机数生成器的缓存文件。

运行`Normalist.py`即可，这将调用所有`NGM`中列举的算法生成均匀分布的随机数，除非某算法已在`ign`列表中指定。

程序产生的所有生成器将以字典的形式缓存，缓存文件储存在`cache`文件夹中，可以调用`Normalist.read()`重新读取缓存文件。

### 测试随机数对蒙特卡洛算法精度的影响

需要`cache`文件夹中已存在同规模的均匀分布随机数生成器和正态分布随机数生成器的缓存文件。

运行`MonteCarlo.py`，这将调用每一个正态分布随机数生成器的生成结果，使用蒙特卡洛方法计算`mc_examples`中欧式期权样例的估值，并计算其相对于BS模型结果的误差。

测试结果将打包缓存至`cache`文件夹。

### 测试分析报告

测试分析报告详见`docs/document.ipynb`，其中的绘图函数需要基于缓存文件执行。
